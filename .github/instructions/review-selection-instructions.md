# コードレビュー指示

## 言語設定
**重要**: すべてのレビューコメントは日本語で作成してください。

## コードレビューの観点

コードレビューでは以下の点を確認してください：

### コード品質

- **命名規則**
  - クラス名はパスカルケース（例: `WebmastersFactory`）を使用しているか
  - メソッド名と変数名はキャメルケース（例: `executeQuery`）を使用しているか
  - 定数は大文字のスネークケース（例: `DEFAULT_TIMEOUT`）を使用しているか
  - 名前は意図を明確に表現しているか

- **コード構造**
  - コードは適切に構造化されているか
  - メソッドの責務は単一で明確か
  - クラスの責務は適切に分離されているか
  - 不要な重複はないか

- **可読性**
  - コードは読みやすく理解しやすいか
  - 複雑なロジックには適切なコメントがあるか
  - 長すぎるメソッドや複雑な条件分岐はないか
  - インデントやフォーマットは一貫しているか

### 機能性

- **仕様準拠**
  - 実装は要件や仕様を満たしているか
  - コマンドラインインターフェースは適切か
  - 出力フォーマットは指定通りか

- **エラー処理**
  - 例外は適切にキャッチされ処理されているか
  - エラーメッセージは明確で有用か
  - エッジケースが考慮されているか
  - リソースは適切に解放されているか

- **API使用**
  - Google APIは適切に使用されているか
  - Spring Bootのベストプラクティスに従っているか
  - フレームワークの機能を効果的に活用しているか

### テスタビリティ

- **テスト可能性**
  - コードはユニットテスト可能な設計になっているか
  - 依存性は適切に注入されているか
  - モックやスタブが容易に使えるか

- **テスト品質**
  - テストはコードの重要な側面をカバーしているか
  - テストケースは明確で理解しやすいか
  - テストは独立して実行可能か
  - エッジケースのテストは含まれているか

### セキュリティ

- **認証処理**
  - 認証情報は安全に扱われているか
  - 機密情報はハードコードされていないか
  - 適切なレベルでのアクセス制御がされているか

- **入力検証**
  - ユーザー入力は適切に検証されているか
  - インジェクション攻撃の可能性はないか

### パフォーマンス

- **効率性**
  - 不必要なAPI呼び出しはないか
  - リソース使用は効率的か
  - 大きなデータセットを扱う場合の対策はあるか

## レビューコメントの書き方

- 具体的で建設的なフィードバックを提供してください
- 問題点だけでなく、可能な解決策も提案してください
- ポジティブな側面も指摘してください
- コメントは以下の形式で記載してください：

```
【カテゴリ】: コメント内容

問題の説明と理由。

提案：
改善のための提案を記載。
```

## レビューカテゴリ

- 【重大】: 修正しないとマージできない致命的な問題
- 【必須】: マージ前に修正が必要な問題
- 【提案】: 改善のための提案（任意）
- 【質問】: 理解のための質問
- 【賞賛】: 特に良い実装の指摘

## 例

### 修正必須の例

```
【必須】: WebmastersFactoryでの例外処理

現在の実装では、クレデンシャルファイルが見つからない場合にスタックトレースが出力されるだけで、ユーザーに理解しやすいエラーメッセージが提供されていません。

提案：
カスタム例外を投げる前に、具体的なエラーメッセージを設定することを検討してください。
```

### 改善提案の例

```
【提案】: ResponseWriterのリファクタリング

現在のコードではFormat.CONSOLE、Format.JSONの場合で条件分岐していますが、将来的に出力形式が増えた場合に修正箇所が増加します。

提案：
Strategyパターンを使用して、各フォーマットタイプに対応する専用のWriterクラスを作成することを検討してください。これにより、新しいフォーマットの追加が容易になります。
```

### 良い点の指摘例

```
【賞賛】: コマンドインターフェースの設計

Commandインターフェースを使用したサブコマンド実装は、拡張性と保守性に優れた設計です。新しいコマンドの追加が容易で、既存のコードへの影響を最小限に抑えることができます。
```